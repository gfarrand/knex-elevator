// /////////////////////////////////////////////////////////////////////////////
// COPYRIGHT blah blah...
// /////////////////////////////////////////////////////////////////////////////


// /////////////////////////////////////////////////////////////////////////////
// Include(s)
// /////////////////////////////////////////////////////////////////////////////
#include <Arduino_FreeRTOS.h>
#include <Arduino.h>
#include "BlinkerTask.h"


// /////////////////////////////////////////////////////////////////////////////
// Local Types
// /////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
BlinkerTask::BlinkerTask(void)
{
}


////////////////////////////////////////////////////////////////////////////////
BlinkerTask::~BlinkerTask(void)
{
}


////////////////////////////////////////////////////////////////////////////////
void
BlinkerTask::initialize(void)
{
    // Setup the debug LED for writing
    pinMode(13, OUTPUT);

    // Get our task going
    xTaskCreate(BlinkerTask::runWrapper,  // Entry Point
                "Main",                   // Task Name
                128,                      // Stack Depth
                this,                     // Task Parameters
                2,                        // Priority
                NULL);                    // Storage for task handle
}



////////////////////////////////////////////////////////////////////////////////
void
BlinkerTask::runWrapper(void * pvParameters)
{
    BlinkerTask* p_this = reinterpret_cast<BlinkerTask*>(pvParameters);
    p_this->run();
}

////////////////////////////////////////////////////////////////////////////////
void
BlinkerTask::run(void)
{
    while (true)
    {
        digitalWrite(13, LOW);
        delay(500);
        digitalWrite(13, HIGH);
        delay(500);
    }
}


// /////////////////////////////////////////////////////////////////////////////
// END OF FILE
// /////////////////////////////////////////////////////////////////////////////

